var showSolution=$("<button id='showSolution'>"+showSolutionI18n+"</button>"),showOrigin=$("<button id='showOrigin'>"+showOriginI18n+"</button>"),showTest=$("<button id='showTest'>"+showTestI18n+"</button>"),activeInputName=0;$(document).ready(function(){var b=$("#solution").text().split("\\\\");var d=0;for(i=0;i<b.length;i++){if(b[i].length>d){d=b[i].length}}var a=$("#text").text();var c="<p>"+a.replace(/\{\{/g,'<input type="text" size="'+d+'" name="').replace(/\}\}/g,'" class="testInput">').replace(/\\n\\n/g,"</p><p>").replace(/\\n/g,"</p><p>").replace(/\n\n/g,"</p><p>").replace(/\n/g,"</p><p>")+"</p>";var e="<p>"+a.replace(/\{\{(\d+)\}\}/g,function(f,g){return"<b>"+b[g]+"</b>"}).replace(/\\n\\n/g,"</p><p>").replace(/\\n/g,"</p><p>").replace(/\n\n/g,"</p><p>").replace(/\n/g,"</p><p>")+"</p>";$("#text").html(c);$("#origin").html(e);$(".testInput").focus(function(){$(this).css("background-color","cornsilk");activeInputName=document.activeElement.name});$(".testInput").focusout(function(){var g=$(this).val();var f=$(this).attr("name");if(g==b[f]){$(this).css("background-color","green")}else{$(this).css("background-color","red")}});$(".testInput").on("input",function(){var g=$(this).val();var f=$(this).attr("name");if(g==b[f]){$(this).css("background-color","green")}});showSolution.appendTo("#control");showOrigin.appendTo("#control");showTest.appendTo("#control").hide();showSolution.click(function(){activeInputSolution=b[activeInputName];$("input:text.testInput[name="+activeInputName+"]").val(activeInputSolution);$("input:text.testInput[name="+activeInputName+"]").css("background-color","green")});showOrigin.click(function(){showSolution.hide();showOrigin.hide();showTest.show();$("#text").hide();$("#origin").show()});showTest.click(function(){showTest.hide();showSolution.show();showOrigin.show();$("#origin").hide();$("#text").show()})});